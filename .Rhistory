)
})
output$state_info <- renderPrint({
list(
current_url = session$clientData$url_search,
all_inputs = reactiveValuesToList(input)
)
})
# Show current state ID (if restored)
output$current_state_id <- renderText({
id <- parseQueryString(session$clientData$url_search)[["_state_id_"]]
if (is.null(id) || id == "") {
"No saved state loaded"
} else {
paste("Loaded State ID:", id)
}
})
# --- Auto-copy State ID to clipboard after bookmark ---
onBookmarked(function(state) {
runjs(paste0("navigator.clipboard.writeText('", state$id, "');"))
showNotification(
paste0("Settings saved! State ID '", state$id, "' copied to clipboard."),
type = "message",
duration = 8
)
})
# --- METHOD 1: Full reload with built-in Shiny restore (RECOMMENDED) ---
observeEvent(input$method1_btn, {
req(input$entered_id)
# Construct full clean URL with the desired state ID
base_url <- paste0(
session$clientData$url_protocol, "//",
session$clientData$url_hostname
)
if (session$clientData$url_port != "") {
base_url <- paste0(base_url, ":", session$clientData$url_port)
}
new_url <- paste0(base_url, session$clientData$url_pathname, "?_state_id_=", input$entered_id)
# Force full page reload to the new bookmarked URL
runjs(paste0("window.location.href = '", new_url, "';"))
})
# --- METHOD 2: Instant restore without reload (manual update) ---
observeEvent(input$method2_btn, {
req(input$entered_id)
state_path <- file.path("shiny_bookmarks", input$entered_id, "input.rds")
if (!file.exists(state_path)) {
showNotification("Invalid State ID â€“ file not found.", type = "error")
return()
}
saved_data <- readRDS(state_path)
# Update known inputs explicitly (add more as needed)
if ("plot_title" %in% names(saved_data)) {
updateTextInput(session, "plot_title", value = saved_data$plot_title)
}
if ("point_size" %in% names(saved_data)) {
updateSliderInput(session, "point_size", value = saved_data$point_size)
}
if ("main_col" %in% names(saved_data)) {
updateColorPickr(session, "main_col", selected = saved_data$main_col)
}
showNotification("Instant restore complete!", type = "message")
})
}
shinyApp(ui, server)
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
grepl("&", 'a&b')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
unlist(str_split('s&x'),'&')
unlist(str_split('s&x','&'))
str_split('s&x','&')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
as.logical("FALSE")
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
library(shiny); runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
demoNumericRange()
ui <- fluidPage(
# Test with different version of Bootstrap
# theme = bslib::bs_theme(version = 5),
tags$h2("numericInputIcon examples"),
fluidRow(
column(
width = 6,
numericInputIcon(
inputId = "ex1",
label = "With an icon",
value = 10,
icon = icon("percent")
),
verbatimTextOutput("res1"),
numericInputIcon(
inputId = "ex2",
label = "With an icon (right)",
value = 90,
step = 10,
icon = list(NULL, icon("percent"))
),
verbatimTextOutput("res2"),
numericInputIcon(
inputId = "ex3",
label = "With text",
value = 50,
icon = list("km/h")
),
verbatimTextOutput("res3"),
numericInputIcon(
inputId = "ex4",
label = "Both side",
value = 10000,
icon = list(icon("dollar-sign"), ".00")
),
verbatimTextOutput("res4"),
numericInputIcon(
inputId = "ex5",
label = "Sizing",
value = 10000,
icon = list(icon("dollar-sign"), ".00"),
size = "lg"
),
verbatimTextOutput("res5")
)
)
)
server <- function(input, output, session) {
output$res1 <- renderPrint(input$ex1)
output$res2 <- renderPrint(input$ex2)
output$res3 <- renderPrint(input$ex3)
output$res4 <- renderPrint(input$ex4)
output$res5 <- renderPrint(input$ex5)
}
if (interactive())
shinyApp(ui, server)
ui <- fluidPage(
multiInput(
inputId = "id", label = "Fruits :",
choices = c("Banana", "Blueberry", "Cherry",
"Coconut", "Grapefruit", "Kiwi",
"Lemon", "Lime", "Mango", "Orange",
"Papaya"),
selected = "Banana", width = "400px",
options = list(
enable_search = FALSE,
non_selected_header = "Choose between:",
selected_header = "You have selected:"
)
),
verbatimTextOutput(outputId = "res")
)
server <- function(input, output, session) {
output$res <- renderPrint({
input$id
})
}
shinyApp(ui = ui, server = server)
}
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
isTRUE(c('A','B')==c('A','B'))
isTRUE(match(c('A','B'),c('A','B')))
match(c('A','B'),c('A','B'))
match(c('A','B'),c('A','C'))
is.na(match(c('A','B'),c('A','C')))
str_equal(c('A','B'),c('A','C'))
str_equal(c('A','B'),c('A','B'))
str_equal(c('A','B'),c('A','C')) |> has_element(FALSE)
str_equal(c('A','B'),c('A','B')) |> has_element(FALSE)
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
df$A
isFALSE(has_element(str_equal(df[,2],df[,2]),FALSE))
isFALSE(has_element(str_equal(df[,2],df[,1]),FALSE))
has_element(str_equal(df[,2],df[,1]),FALSE)
str_equal(df[,2],df[,1])
str_equal(df[,2],df[,2])
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
match(df[,2],df[,2])
match(df[,2],df[,1])
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
paste("colors", seq_along(4), sep = '_')
paste("colors", seq_along(c('A','B')), sep = '_')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
dpcolor
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
modUI <- function(id) {
ns <- NS(id)
tagList(
plotOutput(ns("p1")),
plotOutput(ns("p2"))
)
}
mod <- function(input, output, session, numPoints, suspendWhenHidden) {
observe({
if (!suspendWhenHidden()) {  # when susppendWhenHidden = FALSE
outputOptions(output, "p1", suspendWhenHidden = FALSE)
outputOptions(output, "p2", suspendWhenHidden = FALSE)
} else { # when susppendWhenHidden = TRUE
outputOptions(output, "p1", suspendWhenHidden = TRUE)
outputOptions(output, "p2", suspendWhenHidden = TRUE)
}
})
output$p1 <- renderPlot({
Sys.sleep(1)
plot(runif(numPoints()))
})
output$p2 <- renderPlot({
Sys.sleep(1)
plot(runif(numPoints()))
})
}
ui <- fixedPage(
checkboxInput("suspendWhenHidden", "suspendWhenHidden", value = TRUE),
tabsetPanel(
tabPanel("Module", modUI("modID")),
tabPanel("Other stuff", numericInput("points", "How many point to plot", 10))
)
)
server <- function(input, output, session) {
callModule(mod, "modID", reactive(input$points), reactive(input$suspendWhenHidden))
}
shinyApp(ui, server)
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
library(shiny); runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
my_list <- list("apple", "banana", "orange", "grape", "pineapple")
# The string you want to search for
search_string <- "apple"
# Use grepl() to get a logical vector for each element
matches <- grepl(search_string, my_list)
matches
count(matches)
sum(matches)
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/Sensabled')
runApp('D:/Data/R Scripts/Sensabled')
setwd('D:/Data/R Scripts/Sensabled')
library(rsconnect)
writeManifest(appPrimaryDoc = "app.R")
runApp()
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
runApp('D:/Data/R Scripts/WIP_Sensabled.R')
library(ggplot2)
# 1. Dummy Data
set.seed(123)
data1 <- rnorm(100, mean = 10, sd = 2)
data2 <- rnorm(100, mean = 12, sd = 2)
data3 <- rnorm(100, mean = 15, sd = 2)
datas <- list(data1, data2, data3)
# Prepare data for ggplot
df <- data.frame(
value = c(data1, data2, data3),
group = factor(rep(1:3, each = 100))
)
# 2. Parameters for stacking
y_max <- 20 # Highest point in plot
span <- 10  # Roughly max(data) - min(data)
h <- span * 0.05  # Height of bracket
g <- span * 0.02  # Gap between brackets
offset <- h       # Initial gap from data
# 3. Define comparisons (pairs of indices)
comparisons <- list(
c(2, 3), # Compares box 1 and 2 (R is 1-based)
c(1, 3), # Compares box 0 and 2
c(1, 2)  # Compares box 0 and 1
)
# Base boxplot
p <- ggplot(df, aes(x = group, y = value)) +
geom_boxplot() +
ylim(NA, y_max + (length(comparisons) + 2) * h)
# 4. Add brackets and stars
for (i in seq_along(comparisons)) {
cat1 <- comparisons[[i]][1]
cat2 <- comparisons[[i]][2]
y_line <- y_max + offset + (i - 1) * (h + g)
# Horizontal line
p <- p + geom_segment(aes(x = cat1, xend = cat2, y = y_line, yend = y_line), size = 1.5)
# Vertical ticks
p <- p + geom_segment(aes(x = cat1, xend = cat1, y = y_line - h/2, yend = y_line), size = 1.5)
p <- p + geom_segment(aes(x = cat2, xend = cat2, y = y_line - h/2, yend = y_line), size = 1.5)
# Add text
p <- p + annotate("text", x = (cat1 + cat2) / 2, y = y_line + h/10, label = "*", vjust = 0)
}
print(p)
1>5>14
1>5 & 5 <14
1<5 & 5 >14
1<5 & 5 <14
5=5
5==5
